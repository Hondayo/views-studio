<div class="container">
  <!--▼ アップロードBOX (ドラッグ&ドロップ or 選択) ▼ -->
  <div class="upload-box">
    <!--1) ドラッグ＆ドロップ領域 (初期表示) -->
    <div class="upload-section" id="uploadSection">
      <div class="upload-icon">🎬</div>
      <p>アップロードする動画を選択<br>またはドラッグ＆ドロップ</p>
      <button class="select-btn" id="selectBtn">動画を選択</button>
      <input type="file" id="fileInput" accept="video/*" hidden />
    </div>

    <!--▼ 進捗表示エリア ▼ -->
    <div class="progress-area" id="progressArea" style="display: none;">
      <!--まとめるラッパ: .progress-details -->
      <div class="progress-details">
        <p class="uploaded-info" id="uploadedInfo"></p>
        <button class="replace-btn" id="replaceBtnInProgress">差し替える</button>
      </div>
      <!--進捗バー -->
      <div class="progress-bar-wrapper">
        <div class="progress-bar" id="progressBar"></div>
      </div>
    </div>
  </div>

  <!--▼ アップロード完了後のフォーム & iPhoneプレビュー ▼ -->
  <div class="post-container" id="postContainer" style="display: none;">
    <!--左: 入力フォーム -->
    <div class="description-form">
      <label for="descriptionInput" class="description-label">説明 / #ハッシュタグ</label>
      <textarea 
        id="descriptionInput" 
        placeholder="#ハッシュタグを入力"
      ></textarea>

      <!--#ボタンを追加 -->
      <button id="addHashTagBtn" class="hash-btn">#</button>

    </div>

    <!--右: iPhone風プレビュー -->
    <div class="iphone15-frame">
      <div class="screen" id="screenArea">
        <!--親コンテナ: sn-preview-wrapper -->
        <div class="sn-preview-wrapper">
          <video
            id="previewVideo"
            class="sn-preview-video"
            muted
            playsinline
            preload="metadata"
          ></video>
        </div>

        <!--テキストプレビュー -->
        <div class="preview-text" id="previewText"></div>

        <!--メニュー (テキスト下) -->
        <!--テキストプレビュー下にあるメニュー部分 -->
<div class="preview-menu" id="previewMenu">
  <ul>
    <li>
      <a href="#">
        <!--ロゴ(アイコン)と文字 -->
        <span class="menu-icon">🏠</span>
        <span class="menu-label">ホーム</span>
      </a>
    </li>
    <li>
      <a href="#">
        <span class="menu-icon">📁</span>
        <span class="menu-label">コンテンツ</span>
      </a>
    </li>
    <li>
      <a href="#">
        <span class="menu-icon">👤</span>
        <span class="menu-label">アカウント</span>
      </a>
    </li>
  </ul>
</div>

      </div>
    </div>
  </div>
</div>



<!--▼ 作品選択フォーム ＋ エピソード選択UI 全体ラッパ -->
<div class="work-section" id="workSelectionBlock" style="display: none;">
  <h2>リードするコンテンツを選択</h2>

  <!--検索バー -->
  <div class="work-search-bar">
    <input type="text" id="workSearchInput" placeholder="作品タイトルを検索..." />
    <button id="workSearchBtn">検索</button>
  </div>

  <!--作品一覧 (カード表示) -->
  <div id="workList" class="work-list-cards"></div>

  <!--選択するボタン -->
  <div class="select-work-button-area" id="selectWorkButtonArea" style="display: none;">
    <button id="confirmWorkBtn" class="btn-primary">選択する</button>
  </div>


<!--▼ 作品確定モーダル: 「エピソードを追加しますか？」 -->
<div id="episodeConfirmModal" class="modal-overlay" style="display:none;">
  <div class="modal-content">
    <h4 id="selectedWorkTitle"></h4>
    <p>エピソードを追加しますか？</p>
    <div class="modal-actions">
      <button id="goAddEpisodeBtn" class="btn-primary">はい</button>
      <button id="skipEpisodeBtn"  class="btn-secondary">いいえ</button>
    </div>
  </div>
</div>

<!--▼ エピソード選択モーダル: エピソード一覧をカード表示 -->
<div id="episodeSelectModal" class="modal-overlay" style="display:none;">
  <div class="modal-content modal-episode-content">
    <h4>エピソードを選択</h4>
    <div id="episodeList" class="episode-list-cards"></div>
    <div class="select-episode-button-area">
      <button id="decideEpisodeBtn" class="btn-primary" disabled>このエピソードを選択</button>
    </div>
  </div>
</div>

</div>

<form id="uploadForm" method="post" enctype="multipart/form-data">
  <!-- ...既存のフォーム要素... -->

  <!-- 選択された作品名・エピソード名を送信するhidden input（ここに1セットだけ配置） -->
  <input type="hidden" name="title" id="hiddenWorkTitle" value="">
  <input type="hidden" name="episodeTitle" id="hiddenEpisodeTitle" value="">

  <!-- ここに投稿ボタンや他のフォーム要素が続く -->
  <!-- 投稿ボタンをform内に移動 -->
  <div class="submit-button-container" id="submitButtonContainer" style="display: none;">
    <button id="submitBtn" class="submit-btn" type="submit">投稿する</button>
  </div>
</form>

<div id="selectedContainer" class="selected-container" style="display: none;">
  <div class="selected-title-row">
    <h2>リードするコンテンツ</h2>
    <button id="rechooseBtn" class="btn-secondary">変更する</button>
  </div>
  <p id="selectedStatusText"></p>
</div>







<script src="/js/shortNew.js"></script>
